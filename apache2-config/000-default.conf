# 000-default.conf

<VirtualHost *:80>
  ServerName test-1st-party.com
  DocumentRoot /var/www/test-1st-party
  <Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>
  RewriteEngine on
  RewriteCond %{SERVER_NAME} =test-1st-party.com
  RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>

<VirtualHost *:443>
  ServerName test-1st-party.com
  DocumentRoot /var/www/test-1st-party
  SSLEngine on
  SSLCertificateFile /etc/apache2/ssl/ssl1.crt
  SSLCertificateKeyFile /etc/apache2/ssl/ssl1.key
  <Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>
</VirtualHost>

<VirtualHost *:80>
  ServerName app.test-1st-party.com
  DocumentRoot /var/www/app.test-1st-party
  <Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>
  RewriteEngine on
  RewriteCond %{SERVER_NAME} =app.test-1st-party.com
  RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>

<VirtualHost *:443>
  ServerName app.test-1st-party.com
  DocumentRoot /var/www/app.test-1st-party
  SSLEngine on
  SSLCertificateFile /etc/apache2/ssl/ssl2.crt
  SSLCertificateKeyFile /etc/apache2/ssl/ssl2.key
  <Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>
</VirtualHost>

<VirtualHost *:80>
  ServerName test-3rd-party.com
  DocumentRoot /var/www/test-3rd-party
  <Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>
  RewriteEngine on
  RewriteCond %{SERVER_NAME} =test-3rd-party.com
  RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>

<VirtualHost *:443>
  ServerName test-3rd-party.com
  DocumentRoot /var/www/test-3rd-party
  SSLEngine on
  SSLCertificateFile /etc/apache2/ssl/ssl3.crt
  SSLCertificateKeyFile /etc/apache2/ssl/ssl3.key
  <Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>
</VirtualHost>
